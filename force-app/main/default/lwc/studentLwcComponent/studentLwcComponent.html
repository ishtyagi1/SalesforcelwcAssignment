<template>

    <lightning-card  title="Student Information">
        <div>
        <lightning-record-edit-form record-id={recordId} object-api-name="Contact" >
            <template for:each={allFieldSetList} for:item="fieldsVal">
                <lightning-input-field key={fieldsVal.key} field-name= {fieldsVal.fieldName} class={fieldsVal.fieldName} value={fieldInput} onchange={handleStudentChange}></lightning-input-field>
                
            </template>
    
            <lightning-button variant="brand" label="Submit" title="Submit" class="my-brand" onclick={saveContact} ></lightning-button>
            
            <lightning-button variant="brand" value="Cancel" label="Cancel" title="Cancel" class="my-brand" onclick={handleReset}></lightning-button>
                    
        </lightning-record-edit-form>
        </div>
            
            <div style="height: 300px;">
                <template if:true={data}>
                        <div style="height: 300px;">
                    <lightning-datatable
                            key-field="Id"
                            data={data}
                            columns={allFieldSetList}
                            hide-checkbox-column="false" 
                            show-row-number-column="false"
                            onrowselection={getSelectedName}
                            onrowaction={handleRowAction}
                            
                            >
                            <!-- enable-infinite-loading="true" -->
                            <!--                             onloadmore={loadMoreData}  -->
                    </lightning-datatable>

            
                    </div>
                </template>
                <!-- {loadMoreStatus}
                <template if:true={error}>
                        {error}
                    </template> -->
            </div> 
            <div class="slds-m-around_medium">
                <p class="slds-m-vertical_medium content">
                         Displaying {startingRecord} to {endingRecord} of {totalRecountCount} records.
                         Page {page} of {totalPage}. </p>
                         <lightning-layout>
                            <lightning-layout-item>
                                <lightning-button onprevious={previousHandler} label="Previous" icon-name="utility:chevronleft" onclick={previousHandler}></lightning-button>
                            </lightning-layout-item>
                            <lightning-layout-item flexibility="grow"></lightning-layout-item>
                            <lightning-layout-item>
                                <lightning-button onnext={nextHandler}  label="Next" icon-name="utility:chevronright" icon-position="right" onclick={nextHandler}></lightning-button>
                            </lightning-layout-item>
                        </lightning-layout>
            </div>     
    </lightning-card>   

    <!-- <lightning-card  title="Student Information">
            <lightning-record-edit-form record-id={recordId} object-api-name="Contact" >
                <template if:true={contactRecord} for:each={allFieldSetList} for:item="fieldsVal" >
                    <lightning-input object-api-name="Contact" record-id={recordId} key={fieldsVal.key} field-name= {fieldsVal.fieldName} class={fieldsVal.fieldName} value={fieldInput} onchange={handleStudentChange}></lightning-input>
                </template>
            
                <lightning-button variant="brand" label="Submit" title="Submit" class="my-brand" onclick={saveContact} ></lightning-button>
                
                <lightning-button variant="brand" label="Cancel" title="Cancel" class="my-brand" onclick={handleReset}></lightning-button>
                        
            </lightning-record-edit-form>
            
        </lightning-card>    -->
        
</template>
